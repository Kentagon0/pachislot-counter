# パチスロ小役カウンター＆設定判別ツール 🎰

パチスロの小役出現率を元に、設定1〜6のどれが最も確からしいかを**統計的に判別**するWebアプリケーションです。

## 機能

- **🎯 小役カウンター**: ボタンクリックで小役の出現回数をカウント
- **📊 設定判別**: 二項検定によるp値計算で各設定の可能性を評価
- **📈 確率曲線グラフ**: 各設定の期待値曲線と現在の観測値を可視化
- **🔢 尤度比較**: 各設定が正しい場合の尤度を計算し、最も可能性の高い設定を推定

## インストール

```bash
# 依存パッケージのインストール
pip install -r requirements.txt
```

## 使い方

### 1. アプリの起動

```bash
streamlit run app.py
```

ブラウザが自動的に開き、アプリが表示されます。

### 2. 設定

サイドバーで以下を設定します：

1. **小役名**: カウントする小役の名前（例：ベル、スイカ等）
2. **総回転数**: 現在までの総回転数（試行回数）
3. **各設定の出現確率**: 設定1〜6それぞれの理論確率
   - `1/6.5` 形式（分数）
   - `15.38%` 形式（パーセント）
   - `0.1538` 形式（小数）

### 3. カウント

メイン画面の「+1 カウント」ボタンで小役をカウントします。

### 4. 判別結果の確認

- **判別結果タブ**: 各設定のp値と評価を確認
- **確率曲線タブ**: グラフで視覚的に判断

## 統計手法について

### 二項検定（Binomial Test）

観測された出現回数が、各設定の理論確率と統計的に矛盾しないかを検定します。

- **p値 < 0.025**: その設定の可能性は低い（否定的）
- **p値 < 0.05**: やや否定的
- **p値 ≥ 0.05**: その設定の可能性あり

### 尤度

各設定が正しい場合に、観測されたデータが得られる確率（尤度）を計算し、相対比較します。

## 注意事項

- 統計的判別は確率論に基づくものであり、100%の精度を保証するものではありません
- サンプル数（回転数）が多いほど判別精度は向上します
- 複数の小役を組み合わせて総合的に判断することをお勧めします

## 技術スタック

- Python 3.8+
- Streamlit
- NumPy
- SciPy
- Plotly

## ライセンス

MIT License
